# Practical 9:
# Read a file and:
# a) Print number of characters, words and lines
# b) Frequency of each character (dictionary)
# c) Print words in reverse order
# d) Copy even lines to 'File1' and odd lines to 'File2'
# Accepts input filename from user.

from collections import Counter
import os

def analyze_file(path):
    with open(path, 'r', encoding='utf-8') as f:
        lines = f.readlines()
    text = ''.join(lines)
    num_chars = len(text)
    num_words = len(text.split())
    num_lines = len(lines)
    freq = Counter(text)
    words_reversed = ' '.join(text.split()[::-1])
    return num_chars, num_words, num_lines, freq, words_reversed, lines

def split_lines(lines, file1='File1.txt', file2='File2.txt'):
    with open(file1, 'w', encoding='utf-8') as f1, open(file2, 'w', encoding='utf-8') as f2:
        for i, line in enumerate(lines, start=1):
            if i % 2 == 0:
                f1.write(line)
            else:
                f2.write(line)
    return file1, file2

def main():
    path = input("Enter path to text file: ").strip()
    if not os.path.isfile(path):
        print("File not found.")
        return
    num_chars, num_words, num_lines, freq, words_reversed, lines = analyze_file(path)
    print(f"Characters: {num_chars}, Words: {num_words}, Lines: {num_lines}")
    print("Character frequencies (showing printable chars):")
    for ch, count in sorted(freq.items()):
        if ch == '\n':
            key = '\\n'
        elif ch == '\t':
            key = '\\t'
        else:
            key = ch
        print(f"'{key}': {count}")
    print("\nWords in reverse order (space-separated):")
    print(words_reversed)
    f1, f2 = split_lines(lines)
    print(f"Even lines copied to {f1}, odd lines copied to {f2}")

if __name__ == "__main__":
    main()
